(function(){"use strict";var e={491:function(e,t,s){var i=s(5130),n=s(6768),o=s(4232);const a={class:"top-nav"},l={class:"nav-menu"};function r(e,t,s,i,r,d){const c=(0,n.g2)("router-link"),u=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",{id:"app",class:(0,o.C4)({dark:r.isDark})},[(0,n.Lk)("nav",a,[t[12]||(t[12]=(0,n.Lk)("div",{class:"nav-left"},[(0,n.Lk)("span",{class:"nav-title-blue"},"FinCompass"),(0,n.Lk)("span",{class:"nav-title-red"},"PLUGIN")],-1)),(0,n.Lk)("div",l,[(0,n.bF)(c,{to:"/dashboard"},{default:(0,n.k6)(()=>t[0]||(t[0]=[(0,n.eW)("Dashboard")])),_:1,__:[0]}),(0,n.bF)(c,{to:"/servers"},{default:(0,n.k6)(()=>t[1]||(t[1]=[(0,n.eW)("Servers")])),_:1,__:[1]}),(0,n.bF)(c,{to:"/intentions"},{default:(0,n.k6)(()=>t[2]||(t[2]=[(0,n.eW)("1. Intentions")])),_:1,__:[2]}),t[8]||(t[8]=(0,n.Lk)("span",{class:"arrow"},"→",-1)),(0,n.bF)(c,{to:"/cases"},{default:(0,n.k6)(()=>t[3]||(t[3]=[(0,n.eW)("2. Cases")])),_:1,__:[3]}),t[9]||(t[9]=(0,n.Lk)("span",{class:"arrow"},"→",-1)),(0,n.bF)(c,{to:"/providers"},{default:(0,n.k6)(()=>t[4]||(t[4]=[(0,n.eW)("3. Providers")])),_:1,__:[4]}),t[10]||(t[10]=(0,n.Lk)("span",{class:"arrow"},"→",-1)),(0,n.bF)(c,{to:"/catalogs"},{default:(0,n.k6)(()=>t[5]||(t[5]=[(0,n.eW)("4. Catalogs")])),_:1,__:[5]}),t[11]||(t[11]=(0,n.Lk)("span",{class:"arrow"},"→",-1)),(0,n.bF)(c,{to:"/start"},{default:(0,n.k6)(()=>t[6]||(t[6]=[(0,n.eW)("5. Start Magic")])),_:1,__:[6]}),(0,n.bF)(c,{to:"/pl"},{default:(0,n.k6)(()=>t[7]||(t[7]=[(0,n.eW)("P&L")])),_:1,__:[7]})]),t[13]||(t[13]=(0,n.Lk)("div",{class:"nav-right"},[(0,n.Lk)("span",{class:"icon help"},"?"),(0,n.Lk)("span",{class:"icon sun"},"🌟"),(0,n.Lk)("span",{class:"user-circle"},"me")],-1))]),(0,n.Lk)("main",null,[(0,n.bF)(u,{onGotoServers:d.goToServers},null,8,["onGotoServers"])])],2)}s(4114);var d={name:"App",data(){return{isDark:!0}},methods:{goToServers(){this.$router.push("/servers")}}},c=s(1241);const u=(0,c.A)(d,[["render",r],["__scopeId","data-v-31283a86"]]);var h=u,m=s(1387);const p={class:"dashboard-view"},v={key:0,class:"loading"},k={key:1},g={key:0},y={class:"warning"},f={key:1};function _(e,t,s,o,a,l){return(0,n.uX)(),(0,n.CE)("div",p,[a.loading?((0,n.uX)(),(0,n.CE)("div",v,"Loading...")):((0,n.uX)(),(0,n.CE)("div",k,[l.hasValidServer?((0,n.uX)(),(0,n.CE)("div",f,t[3]||(t[3]=[(0,n.Lk)("h2",null,"Dashboard",-1),(0,n.Lk)("p",null,"Welcome to the FinCompass dashboard!",-1)]))):((0,n.uX)(),(0,n.CE)("div",g,[(0,n.Lk)("div",y,[t[1]||(t[1]=(0,n.Lk)("h3",null,"Setup Required",-1)),t[2]||(t[2]=(0,n.Lk)("p",null,"You must configure at least one server with an API key before using the dashboard.",-1)),(0,n.Lk)("a",{href:"#",onClick:t[0]||(t[0]=(0,i.D$)(t=>e.$emit("gotoServers"),["prevent"]))},"Go to Servers")])]))]))])}s(8111),s(3579);const L="/fincompassplugin/api";var C={name:"FinCompassDashboard",data(){return{servers:[],loading:!0}},computed:{hasValidServer(){return this.servers.some(e=>e.api_key&&""!==e.api_key.trim())}},methods:{async fetchServers(){this.loading=!0;try{const e=await fetch(`${L}/servers`);if(e.ok){const t=await e.json();this.servers=t.servers||[]}else this.servers=[]}catch(e){this.servers=[]}this.loading=!1}},mounted(){this.fetchServers()}};const b=(0,c.A)(C,[["render",_],["__scopeId","data-v-10bb24f3"]]);var w=b;const S={class:"servers-view"},E={key:0,class:"loading"},F={key:1},U={key:0},X={key:1,class:"server-list"},I={style:{display:"flex","align-items":"center",flex:"1","min-width":"0"}},x={class:"server-name"},P={key:0,class:"server-desc"},T={class:"server-actions"},V=["onClick"],H=["onClick"],$=["onClick"],A={key:0,class:"edit-form"},D=["onClick"];function M(e,t,s,a,l,r){return(0,n.uX)(),(0,n.CE)("div",S,[t[8]||(t[8]=(0,n.Lk)("h2",null,"Servers",-1)),(0,n.Lk)("form",{class:"add-server-form",onSubmit:t[3]||(t[3]=(0,i.D$)((...e)=>r.addServer&&r.addServer(...e),["prevent"]))},[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.newServerUrl=e),placeholder:"Server URL (e.g. https://fincompass.emolio.nl)",required:""},null,512),[[i.Jo,l.newServerUrl]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.newServerDescription=e),placeholder:"Description (optional)"},null,512),[[i.Jo,l.newServerDescription]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.newServerApiKey=e),placeholder:"API Key (optional)"},null,512),[[i.Jo,l.newServerApiKey]]),t[7]||(t[7]=(0,n.Lk)("button",{type:"submit"},"Add Server",-1))],32),l.loading?((0,n.uX)(),(0,n.CE)("div",E,"Loading...")):((0,n.uX)(),(0,n.CE)("div",F,[l.servers.length?((0,n.uX)(),(0,n.CE)("ul",X,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.servers,e=>((0,n.uX)(),(0,n.CE)("li",{key:e.url,class:(0,o.C4)(["server-item",{selected:e.selected}])},[(0,n.Lk)("div",I,[(0,n.Lk)("span",x,(0,o.v_)(e.url),1),e.description?((0,n.uX)(),(0,n.CE)("span",P,"- "+(0,o.v_)(e.description),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",T,[(0,n.Lk)("button",{onClick:t=>r.toggleServer(e),class:(0,o.C4)({"selected-btn":e.selected})},(0,o.v_)(e.selected?"Selected (click to deselect)":"Select"),11,V),(0,n.Lk)("button",{onClick:t=>r.editServer(e),class:"edit-btn"},"Edit",8,H),(0,n.Lk)("button",{onClick:t=>r.deleteServer(e),class:"danger"},"Delete",8,$)]),l.editingUrl===e.url?((0,n.uX)(),(0,n.CE)("div",A,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.editDescription=e),placeholder:"Description"},null,512),[[i.Jo,l.editDescription]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.editApiKey=e),placeholder:"API Key"},null,512),[[i.Jo,l.editApiKey]]),(0,n.Lk)("button",{onClick:t=>r.saveEdit(e)},"Save",8,D),(0,n.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>r.cancelEdit&&r.cancelEdit(...e))},"Cancel")])):(0,n.Q3)("",!0)],2))),128))])):((0,n.uX)(),(0,n.CE)("div",U,"No servers found."))]))])}var j={name:"FinCompassServers",data(){return{servers:[],loading:!0,newServerUrl:"",newServerDescription:"",newServerApiKey:"",editingUrl:null,editDescription:"",editApiKey:""}},methods:{async fetchServers(){this.loading=!0;try{const e=await fetch(`${L}/servers`);if(e.ok){const t=await e.json();this.servers=t.servers||[]}else this.servers=[]}catch(e){this.servers=[]}this.loading=!1},async addServer(){if(!this.newServerUrl)return;const e={url:this.newServerUrl,description:this.newServerDescription,api_key:this.newServerApiKey},t=await fetch(`${L}/servers`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});t.ok&&(this.newServerUrl="",this.newServerDescription="",this.newServerApiKey="",await this.fetchServers())},editServer(e){this.editingUrl=e.url,this.editDescription=e.description||"",this.editApiKey=e.api_key||""},cancelEdit(){this.editingUrl=null,this.editDescription="",this.editApiKey=""},async saveEdit(e){e.description!==this.editDescription&&await fetch(`${L}/servers/${encodeURIComponent(e.url)}/description`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:this.editDescription})}),e.api_key!==this.editApiKey&&await fetch(`${L}/servers/${encodeURIComponent(e.url)}/api_key`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:this.editApiKey})}),this.cancelEdit(),await this.fetchServers()},async deleteServer(e){confirm("Delete this server?")&&(await fetch(`${L}/servers/${encodeURIComponent(e.url)}`,{method:"DELETE"}),await this.fetchServers())},async toggleServer(e){e.selected?await fetch(`${L}/servers/deselect`,{method:"POST"}):await fetch(`${L}/servers/${encodeURIComponent(e.url)}/select`,{method:"POST"}),await this.fetchServers()}},mounted(){this.fetchServers()}};const O=(0,c.A)(j,[["render",M],["__scopeId","data-v-789da72e"]]);var W=O;const K={class:"providers-view"},J={key:0,class:"loading"},N={key:1},Q={class:"error-message"},R={key:0,href:"#/servers",class:"action-link"},G={key:2},q={key:0,class:"no-providers"},B={key:1},Y={class:"providers-list"},z={class:"provider-name"},Z=["onClick"];function ee(e,t,s,i,a,l){return(0,n.uX)(),(0,n.CE)("div",K,[t[0]||(t[0]=(0,n.Lk)("h2",null,"Available Providers",-1)),a.loading?((0,n.uX)(),(0,n.CE)("div",J,"Loading providers...")):a.error?((0,n.uX)(),(0,n.CE)("div",N,[(0,n.Lk)("div",Q,[(0,n.eW)((0,o.v_)(a.error)+" ",1),a.error&&a.error.toLowerCase().includes("no server selected")?((0,n.uX)(),(0,n.CE)("a",R,"Action: Select Server")):(0,n.Q3)("",!0)])])):((0,n.uX)(),(0,n.CE)("div",G,[a.providers.length?((0,n.uX)(),(0,n.CE)("div",B,[(0,n.Lk)("ul",Y,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.providers,e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id,class:(0,o.C4)(["provider-item",{selected:e.selected}])},[(0,n.Lk)("span",z,(0,o.v_)(e.name||e.id),1),(0,n.Lk)("button",{onClick:t=>l.toggleProvider(e),class:(0,o.C4)({"selected-btn":e.selected})},(0,o.v_)(e.selected?"Selected (click to deselect)":"Select"),11,Z)],2))),128))])])):((0,n.uX)(),(0,n.CE)("div",q,"No providers found for the selected server."))]))])}var te={name:"FinCompassProviders",data(){return{providers:[],loading:!0,error:""}},methods:{async fetchProviders(){this.loading=!0,this.error="";try{const e=await fetch(`${L}/providers`),t=await e.json();e.ok&&"success"===t.status?this.providers=Array.isArray(t.providers)?t.providers:t.providers.results||[]:this.error=t.error||"Failed to load providers."}catch(e){this.error="Network error or could not fetch providers."}this.loading=!1},async toggleProvider(e){this.error="";try{if(e.selected){const t=await fetch(`${L}/providers/${e.id}/deselect`,{method:"POST"}),s=await t.json();if(!t.ok||"success"!==s.status)throw new Error(s.error||"Failed to deselect provider.")}else{const t=await fetch(`${L}/providers/${e.id}/select`,{method:"POST"}),s=await t.json();if(!t.ok||"success"!==s.status)throw new Error(s.error||"Failed to select provider.")}await this.fetchProviders()}catch(t){this.error=t.message}}},mounted(){this.fetchProviders()}};const se=(0,c.A)(te,[["render",ee],["__scopeId","data-v-4231baac"]]);var ie=se;const ne={class:"pl-view"},oe={class:"external-link-container"},ae=["href"];function le(e,t,s,i,o,a){return(0,n.uX)(),(0,n.CE)("div",ne,[t[1]||(t[1]=(0,n.Lk)("h2",null,"P&L",-1)),(0,n.Lk)("div",oe,[t[0]||(t[0]=(0,n.Lk)("p",null,"For detailed Profit & Loss analysis, please visit our main platform.",-1)),(0,n.Lk)("a",{href:o.externalUrl,target:"_blank",rel:"noopener",class:"external-link-button"}," Go to External P&L ",8,ae)])])}var re={name:"FinCompassPL",data(){return{externalUrl:"https://fincompass.emolio.nl/app/#/pnl"}}};const de=(0,c.A)(re,[["render",le],["__scopeId","data-v-54a9b2a4"]]);var ce=de;const ue={class:"intentions-view"},he={class:"toolbar"},me={key:0,class:"loading"},pe={key:1,class:"error"},ve={key:2,class:"intentions-list"},ke={class:"view-mode"},ge={class:"intention-details"},ye={key:0},fe={class:"intention-actions"},_e=["onClick"],Le=["onClick"],Ce=["onClick"],be={key:3,class:"modal-overlay"},we={class:"modal-content"},Se={class:"form-group"},Ee={class:"form-group"},Fe={class:"form-group checkbox-group"},Ue={class:"form-group"},Xe={class:"form-group"},Ie={class:"hold-period-inputs"},xe=["disabled"],Pe=["disabled"],Te={key:0},Ve={key:1,class:"disabled-text"},He={class:"form-group checkbox-group"},$e={key:0,class:"info-panel"},Ae={key:1,class:"form-group"},De={class:"timing-range"},Me={class:"timing-input-group"},je={class:"timing-input-group"},Oe={class:"form-group"},We={class:"form-group"},Ke={class:"modal-actions"},Je={type:"submit"};function Ne(e,t,s,a,l,r){return(0,n.uX)(),(0,n.CE)("div",ue,[t[37]||(t[37]=(0,n.Lk)("h2",null,"Manage Intentions",-1)),(0,n.Lk)("div",he,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.openCreateModal&&r.openCreateModal(...e))},"Add New Intention")]),l.loading?((0,n.uX)(),(0,n.CE)("div",me,"Loading...")):l.error?((0,n.uX)(),(0,n.CE)("div",pe,(0,o.v_)(l.error),1)):((0,n.uX)(),(0,n.CE)("ul",ve,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.intentions,e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id,class:"intention-item"},[(0,n.Lk)("div",ke,[(0,n.Lk)("div",ge,[(0,n.Lk)("strong",null,(0,o.v_)(e.intention),1),e.description?((0,n.uX)(),(0,n.CE)("p",ye,(0,o.v_)(e.description),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",fe,[(0,n.Lk)("button",{onClick:t=>r.selectIntention(e),class:(0,o.C4)({"selected-btn":e.selected})},(0,o.v_)(e.selected?"Selected":"Select"),11,_e),(0,n.Lk)("button",{onClick:t=>r.openEditModal(e)},"Edit",8,Le),(0,n.Lk)("button",{onClick:t=>r.deleteIntention(e.id),class:"danger"},"Delete",8,Ce)])])]))),128))])),l.showModal?((0,n.uX)(),(0,n.CE)("div",be,[(0,n.Lk)("div",we,[(0,n.Lk)("h3",null,(0,o.v_)(l.modalForm.isEdit?"Edit Intention":"Create New Intention"),1),(0,n.Lk)("form",{onSubmit:t[17]||(t[17]=(0,i.D$)((...e)=>r.handleModalSubmit&&r.handleModalSubmit(...e),["prevent"]))},[(0,n.Lk)("div",Se,[t[18]||(t[18]=(0,n.Lk)("label",{for:"intention"},"Intention",-1)),(0,n.bo)((0,n.Lk)("input",{id:"intention","onUpdate:modelValue":t[1]||(t[1]=e=>l.modalForm.intention=e),placeholder:"e.g., 'Financial Growth'",required:""},null,512),[[i.Jo,l.modalForm.intention]])]),(0,n.Lk)("div",Ee,[t[19]||(t[19]=(0,n.Lk)("label",{for:"description"},"Description",-1)),(0,n.bo)((0,n.Lk)("input",{id:"description","onUpdate:modelValue":t[2]||(t[2]=e=>l.modalForm.description=e),placeholder:"Optional details"},null,512),[[i.Jo,l.modalForm.description]])]),(0,n.Lk)("div",Fe,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox",id:"selected","onUpdate:modelValue":t[3]||(t[3]=e=>l.modalForm.selected=e)},null,512),[[i.lH,l.modalForm.selected]]),t[20]||(t[20]=(0,n.Lk)("label",{for:"selected"},"Set as selected",-1))]),(0,n.Lk)("div",Ue,[t[21]||(t[21]=(0,n.Lk)("label",{for:"amount"},"Amount to Invest",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0",step:"any",id:"amount","onUpdate:modelValue":t[4]||(t[4]=e=>l.modalForm.amount=e),placeholder:"e.g. 1000"},null,512),[[i.Jo,l.modalForm.amount,void 0,{number:!0}]]),t[22]||(t[22]=(0,n.Lk)("small",null,"Default amount to invest for this intention (can be overridden per schedule).",-1))]),(0,n.Lk)("div",Xe,[t[24]||(t[24]=(0,n.Lk)("label",{for:"holdMinutes"},"Hold Period",-1)),(0,n.Lk)("div",Ie,[(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0","onUpdate:modelValue":t[5]||(t[5]=e=>l.holdValue=e),id:"holdMinutes",style:{width:"80px"},disabled:l.modalForm.dynamic_sell_timing},null,8,xe),[[i.Jo,l.holdValue,void 0,{number:!0}]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.holdUnit=e),disabled:l.modalForm.dynamic_sell_timing},t[23]||(t[23]=[(0,n.Lk)("option",{value:"minutes"},"Minutes",-1),(0,n.Lk)("option",{value:"hours"},"Hours",-1),(0,n.Lk)("option",{value:"days"},"Days",-1)]),8,Pe),[[i.u1,l.holdUnit]])]),l.modalForm.dynamic_sell_timing?((0,n.uX)(),(0,n.CE)("small",Ve,"Hold period is managed by AI when dynamic timing is enabled.")):((0,n.uX)(),(0,n.CE)("small",Te,"How long to hold before selling (used as default for schedules)."))]),(0,n.Lk)("div",He,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox",id:"dynamicTiming","onUpdate:modelValue":t[7]||(t[7]=e=>l.modalForm.dynamic_sell_timing=e),onChange:t[8]||(t[8]=(...e)=>r.onDynamicTimingChange&&r.onDynamicTimingChange(...e))},null,544),[[i.lH,l.modalForm.dynamic_sell_timing]]),t[25]||(t[25]=(0,n.Lk)("label",{for:"dynamicTiming"},"Use AI-driven sell timing",-1)),(0,n.Lk)("button",{type:"button",class:"info-button",onClick:t[9]||(t[9]=e=>l.showTimingInfo=!l.showTimingInfo),title:"How does AI timing work?"}," ⓘ ")]),l.showTimingInfo?((0,n.uX)(),(0,n.CE)("div",$e,t[26]||(t[26]=[(0,n.Fv)("<h4 data-v-157e415e>How AI-Driven Sell Timing Works</h4><p data-v-157e415e><strong data-v-157e415e>The AI analyzes the selected cryptocurrency and determines the optimal sell time within your specified range:</strong></p><ul data-v-157e415e><li data-v-157e415e><strong data-v-157e415e>High Energy Coins:</strong> Coins with high analysis scores are sold sooner to lock in gains</li><li data-v-157e415e><strong data-v-157e415e>Low Vitality Coins:</strong> Coins with lower general vitality are held longer for potential growth</li><li data-v-157e415e><strong data-v-157e415e>Randomness Factor:</strong> Includes quantum-random elements for unpredictability</li><li data-v-157e415e><strong data-v-157e415e>Your Control:</strong> AI respects your min/max time boundaries</li></ul><p data-v-157e415e><em data-v-157e415e>This makes sell timing as intelligent and &quot;magical&quot; as the coin selection process!</em></p>",4)]))):(0,n.Q3)("",!0),l.modalForm.dynamic_sell_timing?((0,n.uX)(),(0,n.CE)("div",Ae,[t[31]||(t[31]=(0,n.Lk)("label",null,"Sell Timing Range",-1)),(0,n.Lk)("div",De,[(0,n.Lk)("div",Me,[t[28]||(t[28]=(0,n.Lk)("label",null,"Min Hold Time:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0","onUpdate:modelValue":t[10]||(t[10]=e=>l.minHoldValue=e),placeholder:"e.g. 30",style:{width:"80px"}},null,512),[[i.Jo,l.minHoldValue,void 0,{number:!0}]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[11]||(t[11]=e=>l.minHoldUnit=e)},t[27]||(t[27]=[(0,n.Lk)("option",{value:"minutes"},"Minutes",-1),(0,n.Lk)("option",{value:"hours"},"Hours",-1),(0,n.Lk)("option",{value:"days"},"Days",-1)]),512),[[i.u1,l.minHoldUnit]])]),(0,n.Lk)("div",je,[t[30]||(t[30]=(0,n.Lk)("label",null,"Max Hold Time:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0","onUpdate:modelValue":t[12]||(t[12]=e=>l.maxHoldValue=e),placeholder:"e.g. 3",style:{width:"80px"}},null,512),[[i.Jo,l.maxHoldValue,void 0,{number:!0}]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[13]||(t[13]=e=>l.maxHoldUnit=e)},t[29]||(t[29]=[(0,n.Lk)("option",{value:"minutes"},"Minutes",-1),(0,n.Lk)("option",{value:"hours"},"Hours",-1),(0,n.Lk)("option",{value:"days"},"Days",-1)]),512),[[i.u1,l.maxHoldUnit]])])]),t[32]||(t[32]=(0,n.Lk)("small",null,"AI will choose optimal sell time within this range based on market analysis.",-1))])):(0,n.Q3)("",!0),(0,n.Lk)("div",Oe,[t[33]||(t[33]=(0,n.Lk)("label",{for:"stopLoss"},"Stop Loss Percentage",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0",max:"100",step:"0.1",id:"stopLoss","onUpdate:modelValue":t[14]||(t[14]=e=>l.modalForm.stop_loss_percentage=e),placeholder:"e.g. 5.0"},null,512),[[i.Jo,l.modalForm.stop_loss_percentage,void 0,{number:!0}]]),t[34]||(t[34]=(0,n.Lk)("small",null,"Percentage loss at which to sell (e.g., 5.0 for 5%).",-1))]),(0,n.Lk)("div",We,[t[35]||(t[35]=(0,n.Lk)("label",{for:"takeProfit"},"Take Profit Percentage",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0",max:"1000",step:"0.1",id:"takeProfit","onUpdate:modelValue":t[15]||(t[15]=e=>l.modalForm.take_profit_percentage=e),placeholder:"e.g. 15.0"},null,512),[[i.Jo,l.modalForm.take_profit_percentage,void 0,{number:!0}]]),t[36]||(t[36]=(0,n.Lk)("small",null,"Percentage gain at which to sell (e.g., 15.0 for 15%).",-1))]),(0,n.Lk)("div",Ke,[(0,n.Lk)("button",Je,(0,o.v_)(l.modalForm.isEdit?"Save Changes":"Create"),1),(0,n.Lk)("button",{type:"button",onClick:t[16]||(t[16]=(...e)=>r.closeModal&&r.closeModal(...e))},"Cancel")])],32)])])):(0,n.Q3)("",!0)])}s(116),s(1701);var Qe={name:"FinCompassIntentions",data(){return{intentions:[],loading:!0,error:"",showModal:!1,modalForm:{isEdit:!1,id:null,intention:"",description:"",selected:!1,hold_minutes:0,amount:0,stop_loss_percentage:0,take_profit_percentage:0,dynamic_sell_timing:!1,min_hold_minutes:0,max_hold_minutes:0},holdValue:0,holdUnit:"minutes",minHoldValue:0,minHoldUnit:"minutes",maxHoldValue:0,maxHoldUnit:"minutes",showTimingInfo:!1}},watch:{modalForm:{handler(e){e&&"number"===typeof e.hold_minutes?e.hold_minutes%1440===0?(this.holdValue=e.hold_minutes/1440,this.holdUnit="days"):e.hold_minutes%60===0?(this.holdValue=e.hold_minutes/60,this.holdUnit="hours"):(this.holdValue=e.hold_minutes,this.holdUnit="minutes"):(this.holdValue=0,this.holdUnit="minutes"),e&&"number"===typeof e.min_hold_minutes?e.min_hold_minutes%1440===0?(this.minHoldValue=e.min_hold_minutes/1440,this.minHoldUnit="days"):e.min_hold_minutes%60===0?(this.minHoldValue=e.min_hold_minutes/60,this.minHoldUnit="hours"):(this.minHoldValue=e.min_hold_minutes,this.minHoldUnit="minutes"):(this.minHoldValue=0,this.minHoldUnit="minutes"),e&&"number"===typeof e.max_hold_minutes?e.max_hold_minutes%1440===0?(this.maxHoldValue=e.max_hold_minutes/1440,this.maxHoldUnit="days"):e.max_hold_minutes%60===0?(this.maxHoldValue=e.max_hold_minutes/60,this.maxHoldUnit="hours"):(this.maxHoldValue=e.max_hold_minutes,this.maxHoldUnit="minutes"):(this.maxHoldValue=0,this.maxHoldUnit="minutes")},immediate:!0,deep:!0}},methods:{async fetchIntentions(){this.loading=!0;try{const e=await fetch(`${L}/intentions`);if(!e.ok)throw new Error("Failed to fetch intentions");this.intentions=await e.json()}catch(e){this.error=e.message}finally{this.loading=!1}},openCreateModal(){this.modalForm={isEdit:!1,id:null,intention:"",description:"",selected:!1,hold_minutes:0,amount:0,stop_loss_percentage:0,take_profit_percentage:0,dynamic_sell_timing:!1,min_hold_minutes:0,max_hold_minutes:0},this.showModal=!0},openEditModal(e){this.modalForm={isEdit:!0,id:e.id,intention:e.intention,description:e.description,selected:!!e.selected,hold_minutes:e.hold_minutes||0,amount:e.amount||0,stop_loss_percentage:e.stop_loss_percentage||0,take_profit_percentage:e.take_profit_percentage||0,dynamic_sell_timing:!!e.dynamic_sell_timing,min_hold_minutes:e.min_hold_minutes||0,max_hold_minutes:e.max_hold_minutes||0},this.showModal=!0},closeModal(){this.showModal=!1},async handleModalSubmit(){this.modalForm.isEdit?await this.saveEdit():await this.createIntention()},async createIntention(){await this.saveIntention()},async saveEdit(){if(this.modalForm.selected){const e=this.intentions.find(e=>e.selected&&e.id!==this.modalForm.id);e&&await fetch(`${L}/intentions/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,selected:!1})})}await this.saveIntention()},async deleteIntention(e){confirm("Are you sure you want to delete this intention?")&&(await fetch(`${L}/intentions/${e}`,{method:"DELETE"}),await this.fetchIntentions())},async selectIntention(e){const t=this.intentions.map(t=>{const s=t.id===e.id;return t.selected!==s?fetch(`${L}/intentions/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,selected:s})}):Promise.resolve()});await Promise.all(t),await this.fetchIntentions()},onDynamicTimingChange(){this.modalForm.dynamic_sell_timing&&(this.holdValue=0,this.modalForm.hold_minutes=0)},async saveIntention(){this.error="";try{let e=0;e="days"===this.holdUnit?24*this.holdValue*60:"hours"===this.holdUnit?60*this.holdValue:this.holdValue;let t=0;t="days"===this.minHoldUnit?24*this.minHoldValue*60:"hours"===this.minHoldUnit?60*this.minHoldValue:this.minHoldValue;let s=0;s="days"===this.maxHoldUnit?24*this.maxHoldValue*60:"hours"===this.maxHoldUnit?60*this.maxHoldValue:this.maxHoldValue;const i={intention:this.modalForm.intention,description:this.modalForm.description,selected:this.modalForm.selected,hold_minutes:e,amount:this.modalForm.amount,stop_loss_percentage:this.modalForm.stop_loss_percentage,take_profit_percentage:this.modalForm.take_profit_percentage,dynamic_sell_timing:this.modalForm.dynamic_sell_timing,min_hold_minutes:t,max_hold_minutes:s};let n;n=this.modalForm.id?await fetch(`${L}/intentions/${this.modalForm.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}):await fetch(`${L}/intentions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});const o=await n.json();if(!n.ok)throw new Error(o.error||"Failed to save intention.");this.showModal=!1,await this.fetchIntentions()}catch(e){this.error=e.message}}},mounted(){this.fetchIntentions()}};const Re=(0,c.A)(Qe,[["render",Ne],["__scopeId","data-v-157e415e"]]);var Ge=Re;const qe={class:"catalogs-view"},Be={key:0,class:"loading"},Ye={key:1,class:"error-message"},ze={key:2},Ze={key:0,class:"no-catalogs"},et={key:1,class:"catalogs-list"},tt={class:"catalog-name"},st=["onClick"];function it(e,t,s,i,a,l){return(0,n.uX)(),(0,n.CE)("div",qe,[t[0]||(t[0]=(0,n.Lk)("h2",null,"Analysis Catalogs",-1)),t[1]||(t[1]=(0,n.Lk)("p",{class:"subtitle"},"Select the catalog to use for analysis.",-1)),a.loading?((0,n.uX)(),(0,n.CE)("div",Be,"Loading catalogs...")):a.error?((0,n.uX)(),(0,n.CE)("div",Ye,(0,o.v_)(a.error),1)):((0,n.uX)(),(0,n.CE)("div",ze,[a.catalogs.length?((0,n.uX)(),(0,n.CE)("ul",et,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.catalogs,e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id,class:(0,o.C4)(["catalog-item",{selected:e.selected}])},[(0,n.Lk)("span",tt,(0,o.v_)(e.name),1),(0,n.Lk)("button",{onClick:t=>l.toggleCatalog(e),class:(0,o.C4)({"selected-btn":e.selected})},(0,o.v_)(e.selected?"Selected (click to deselect)":"Select"),11,st)],2))),128))])):((0,n.uX)(),(0,n.CE)("div",Ze," No catalogs found. Ensure AetherOnePy core is running. "))]))])}var nt={name:"FinCompassCatalogs",data(){return{catalogs:[],loading:!0,error:""}},methods:{async fetchCatalogs(){this.loading=!0,this.error="";try{const e=await fetch(`${L}/catalogs`),t=await e.json();e.ok&&"success"===t.status?this.catalogs=t.catalogs||[]:this.error=t.error||"Failed to load catalogs."}catch(e){this.error="Network error or could not fetch catalogs."}this.loading=!1},async toggleCatalog(e){this.error="";try{if(e.selected){const e=await fetch(`${L}/catalogs/deselect`,{method:"POST"}),t=await e.json();if(!e.ok||"success"!==t.status)throw new Error(t.error||"Failed to deselect.")}else{const t=await fetch(`${L}/catalogs/${e.id}/select`,{method:"POST"}),s=await t.json();if(!t.ok||"success"!==s.status)throw new Error(s.error||"Failed to select the catalog.")}await this.fetchCatalogs()}catch(t){this.error=t.message}}},mounted(){this.fetchCatalogs()}};const ot=(0,c.A)(nt,[["render",it],["__scopeId","data-v-e47e4d7e"]]);var at=ot;const lt={class:"cases-view"},rt={key:0,class:"loading"},dt={key:1,class:"error-message"},ct={key:2},ut={key:0,class:"no-cases"},ht={key:1,class:"cases-list"},mt={class:"case-name"},pt=["onClick"];function vt(e,t,s,i,a,l){return(0,n.uX)(),(0,n.CE)("div",lt,[t[0]||(t[0]=(0,n.Lk)("h2",null,"Cases",-1)),t[1]||(t[1]=(0,n.Lk)("p",{class:"subtitle"},"Select the case to use for analysis.",-1)),a.loading?((0,n.uX)(),(0,n.CE)("div",rt,"Loading cases...")):a.error?((0,n.uX)(),(0,n.CE)("div",dt,(0,o.v_)(a.error),1)):((0,n.uX)(),(0,n.CE)("div",ct,[a.cases.length?((0,n.uX)(),(0,n.CE)("ul",ht,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.cases,e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id,class:(0,o.C4)(["case-item",{selected:e.selected}])},[(0,n.Lk)("span",mt,(0,o.v_)(e.name),1),(0,n.Lk)("button",{onClick:t=>l.toggleCase(e),class:(0,o.C4)({"selected-btn":e.selected})},(0,o.v_)(e.selected?"Selected (click to deselect)":"Select"),11,pt)],2))),128))])):((0,n.uX)(),(0,n.CE)("div",ut," No cases found. Create a case first. "))]))])}var kt={name:"FinCompassCases",data(){return{cases:[],loading:!0,error:""}},methods:{async fetchCases(){this.loading=!0,this.error="";try{const e=await fetch(`${L}/cases`),t=await e.json();e.ok&&"success"===t.status?this.cases=t.cases||[]:this.error=t.error||"Failed to load cases."}catch(e){this.error="Network error or could not fetch cases."}this.loading=!1},async toggleCase(e){this.error="";try{if(e.selected){const e=await fetch(`${L}/cases/deselect`,{method:"POST"}),t=await e.json();if(!e.ok||"success"!==t.status)throw new Error(t.error||"Failed to deselect.")}else{const t=await fetch(`${L}/cases/${e.id}/select`,{method:"POST"}),s=await t.json();if(!t.ok||"success"!==s.status)throw new Error(s.error||"Failed to select the case.")}await this.fetchCases()}catch(t){this.error=t.message}}},mounted(){this.fetchCases()}};const gt=(0,c.A)(kt,[["render",vt],["__scopeId","data-v-0b505cab"]]);var yt=gt;const ft={class:"start-magic-container"},_t={class:"summary-panel"},Lt={key:0,class:"loading-selections"},Ct={key:0,class:"summary-card intention-card"},bt={class:"summary-text"},wt={key:1,class:"summary-card"},St={class:"summary-text"},Et={key:2,class:"summary-card"},Ft={class:"summary-text"},Ut={key:3,class:"summary-card"},Xt={class:"summary-text"},It={key:4,class:"missing-warning"},xt={key:5,class:"missing-warning"},Pt={key:6,class:"missing-warning"},Tt={key:7,class:"missing-warning"},Vt={class:"action-panel"},Ht=["disabled","title"],$t={key:0,class:"loading"},At={key:1,class:"result"},Dt={key:0},Mt={key:1,class:"error"};function jt(e,t,s,i,a,l){return(0,n.uX)(),(0,n.CE)("div",ft,[(0,n.Lk)("div",_t,[t[22]||(t[22]=(0,n.Lk)("h3",null,"✨ Your Magical Plan ✨",-1)),a.fetchingSelections?((0,n.uX)(),(0,n.CE)("div",Lt,t[1]||(t[1]=[(0,n.Lk)("span",{class:"spinner"},null,-1),(0,n.eW)(" Loading your selections... ")]))):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[a.selected.intention?((0,n.uX)(),(0,n.CE)("div",Ct,[t[10]||(t[10]=(0,n.Lk)("span",{class:"icon"},"🪄",-1)),(0,n.Lk)("span",bt,[t[8]||(t[8]=(0,n.eW)(" I want to ")),(0,n.Lk)("b",null,(0,o.v_)(a.selected.intention.intention),1),a.selected.intention.amount&&a.selected.intention.amount>0?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[t[2]||(t[2]=(0,n.eW)(" for ")),(0,n.Lk)("b",null,(0,o.v_)(a.selected.intention.amount),1),t[3]||(t[3]=(0,n.eW)(" USD "))],64)):(0,n.Q3)("",!0),a.selected.intention.dynamic_sell_timing?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[t[4]||(t[4]=(0,n.eW)(" , with the holding time mystically determined at ")),t[5]||(t[5]=(0,n.Lk)("b",null,"random",-1)),t[6]||(t[6]=(0,n.eW)(" for the most profit I press Start Magic "))],64)):a.selected.intention.hold_minutes&&a.selected.intention.hold_minutes>0?((0,n.uX)(),(0,n.CE)(n.FK,{key:2},[t[7]||(t[7]=(0,n.eW)(" , holding for ")),(0,n.Lk)("b",null,(0,o.v_)(l.holdPeriodString(a.selected.intention.hold_minutes)),1)],64)):(0,n.Q3)("",!0),t[9]||(t[9]=(0,n.eW)(". "))])])):(0,n.Q3)("",!0),a.selected.case?((0,n.uX)(),(0,n.CE)("div",wt,[t[12]||(t[12]=(0,n.Lk)("span",{class:"icon"},"📁",-1)),(0,n.Lk)("span",St,[t[11]||(t[11]=(0,n.eW)("Case: ")),(0,n.Lk)("b",null,(0,o.v_)(a.selected.case.name),1)])])):(0,n.Q3)("",!0),a.selected.provider?((0,n.uX)(),(0,n.CE)("div",Et,[t[14]||(t[14]=(0,n.Lk)("span",{class:"icon"},"🔌",-1)),(0,n.Lk)("span",Ft,[t[13]||(t[13]=(0,n.eW)("Provider: ")),(0,n.Lk)("b",null,(0,o.v_)(a.selected.provider.name),1)])])):(0,n.Q3)("",!0),a.selected.catalog?((0,n.uX)(),(0,n.CE)("div",Ut,[t[16]||(t[16]=(0,n.Lk)("span",{class:"icon"},"📚",-1)),(0,n.Lk)("span",Xt,[t[15]||(t[15]=(0,n.eW)("Catalog: ")),(0,n.Lk)("b",null,(0,o.v_)(a.selected.catalog.name),1)])])):(0,n.Q3)("",!0),a.selected.intention?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",It,t[17]||(t[17]=[(0,n.eW)(" ⚠️ Please select an intention. "),(0,n.Lk)("a",{href:"#/intentions",class:"action-link"},"Take action: Select Intention",-1)]))),a.selected.case?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",xt,t[18]||(t[18]=[(0,n.eW)(" ⚠️ Please select a case. "),(0,n.Lk)("a",{href:"#/cases",class:"action-link"},"Take action: Select Case",-1)]))),a.selected.provider?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",Pt,t[19]||(t[19]=[(0,n.eW)(" ⚠️ Please select a provider. "),(0,n.Lk)("a",{href:"#/providers",class:"action-link"},"Take action: Select Provider",-1)]))),a.selected.catalog?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",Tt,t[20]||(t[20]=[(0,n.eW)(" ⚠️ Please select a catalog. "),(0,n.Lk)("a",{href:"#/catalogs",class:"action-link"},"Take action: Select Catalog",-1)]))),t[21]||(t[21]=(0,n.Lk)("div",{class:"magic-desc"},[(0,n.eW)("All your choices are aligned. When you press "),(0,n.Lk)("b",null,"Start Magic"),(0,n.eW)(", your intention will be set in motion with a sprinkle of algorithmic wizardry! ✨")],-1))],64))]),t[24]||(t[24]=(0,n.Lk)("div",{class:"arrow-panel"},[(0,n.Lk)("div",{class:"arrow"},"→")],-1)),(0,n.Lk)("div",Vt,[(0,n.Lk)("button",{class:"start-magic-btn",disabled:a.loading||!l.canStartMagic||a.fetchingSelections,onClick:t[0]||(t[0]=(...e)=>l.runMagic&&l.runMagic(...e)),title:l.canStartMagic?"":l.missingSelectionsText}," Start Magic ",8,Ht),a.loading?((0,n.uX)(),(0,n.CE)("div",$t,"Running analysis and scheduling...")):(0,n.Q3)("",!0),a.result?((0,n.uX)(),(0,n.CE)("div",At,["success"===a.result.status?((0,n.uX)(),(0,n.CE)("div",Dt,[t[23]||(t[23]=(0,n.Lk)("h4",null,"Success!",-1)),(0,n.Lk)("div",null,"Schedule ID (Buy): "+(0,o.v_)(a.result.buy_schedule_id),1),(0,n.Lk)("div",null,"Schedule ID (Sell): "+(0,o.v_)(a.result.sell_schedule_id),1)])):((0,n.uX)(),(0,n.CE)("div",Mt,(0,o.v_)(a.result.error),1))])):(0,n.Q3)("",!0)])])}var Ot={name:"StartMagic",data(){return{selected:{intention:null,case:null,provider:null,catalog:null},loading:!1,result:null,fetchingSelections:!0}},computed:{canStartMagic(){return this.selected.intention&&this.selected.case&&this.selected.provider&&this.selected.catalog},missingSelectionsText(){const e=[];return this.selected.intention||e.push("intention"),this.selected.case||e.push("case"),this.selected.provider||e.push("provider"),this.selected.catalog||e.push("catalog"),"Please select: "+e.join(", ")}},methods:{async fetchSelections(){this.fetchingSelections=!0;const[e,t,s,i]=await Promise.all([fetch(`${L}/intentions`).then(e=>e.json()),fetch(`${L}/cases`).then(e=>e.json()),fetch(`${L}/providers`).then(e=>e.json()),fetch(`${L}/catalogs`).then(e=>e.json())]);this.selected.intention=(e.find?e.find(e=>e.selected):(e.intentions||[]).find(e=>e.selected))||null,this.selected.case=(t.cases||[]).find(e=>e.selected)||null,this.selected.provider=(s.providers||[]).find(e=>e.selected)||null,this.selected.catalog=(i.catalogs||[]).find(e=>e.selected)||null,this.fetchingSelections=!1},async runMagic(){this.loading=!0,this.result=null;try{const e=await fetch(`${L}/start-magic`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({intention_id:this.selected.intention?.id,case_id:this.selected.case?.id,provider_id:this.selected.provider?.id,catalog_id:this.selected.catalog?.id})}),t=await e.json();console.log("Full start-magic response:",t),t.buy_payload&&console.log("Buy payload sent to server:",t.buy_payload),t.sell_payload&&console.log("Sell payload sent to server:",t.sell_payload),this.result=t}catch(e){this.result={status:"error",error:e.message}}this.loading=!1},holdPeriodString(e){return e?e%1440===0?e/1440+" days":e%60===0?e/60+" hours":e+" minutes":""}},mounted(){this.fetchSelections()}};const Wt=(0,c.A)(Ot,[["render",jt],["__scopeId","data-v-1636feb1"]]);var Kt=Wt;const Jt=[{path:"/",redirect:"/dashboard"},{path:"/dashboard",component:w},{path:"/start",component:Kt},{path:"/servers",component:W},{path:"/providers",component:ie},{path:"/catalogs",component:at},{path:"/cases",component:yt},{path:"/intentions",component:Ge},{path:"/pl",component:ce}],Nt=(0,m.aE)({history:(0,m.Bt)(),routes:Jt});var Qt=Nt;(0,i.Ef)(h).use(Qt).mount("#app")}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,i,n,o){if(!i){var a=1/0;for(c=0;c<e.length;c++){i=e[c][0],n=e[c][1],o=e[c][2];for(var l=!0,r=0;r<i.length;r++)(!1&o||a>=o)&&Object.keys(s.O).every(function(e){return s.O[e](i[r])})?i.splice(r--,1):(l=!1,o<a&&(a=o));if(l){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[i,n,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,o,a=i[0],l=i[1],r=i[2],d=0;if(a.some(function(t){return 0!==e[t]})){for(n in l)s.o(l,n)&&(s.m[n]=l[n]);if(r)var c=r(s)}for(t&&t(i);d<a.length;d++)o=a[d],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(c)},i=self["webpackChunkFinCompassPLUGIN"]=self["webpackChunkFinCompassPLUGIN"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[504],function(){return s(491)});i=s.O(i)})();
//# sourceMappingURL=app.d40ae740.js.map